{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"isEntrepreneurUpdate\", \"_jwt\", \"entrepreneur\"];\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Checkbox } from \"native-base\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport GlobalVars from \"../../../global/globalVars\";\nimport { daysCollection } from \"../../../mock/daysCollection\";\nimport updateDataEntrepreneur from \"../../../helpers/updateDataEntrepreneur\";\nimport LabelTextComponent from \"../../atoms/LabelText\";\nimport ButtonComponent from \"../../atoms/ButtonComponent\";\nimport ScrollView from \"../../templates/ScrollView\";\nimport Styles from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar styles = Styles;\n\nvar PickerDaysShop = function PickerDaysShop(_ref) {\n  var _ref$isEntrepreneurUp = _ref.isEntrepreneurUpdate,\n      isEntrepreneurUpdate = _ref$isEntrepreneurUp === void 0 ? false : _ref$isEntrepreneurUp,\n      _ref$_jwt = _ref._jwt,\n      _jwt = _ref$_jwt === void 0 ? null : _ref$_jwt,\n      _ref$entrepreneur = _ref.entrepreneur,\n      entrepreneur = _ref$entrepreneur === void 0 ? null : _ref$entrepreneur,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var onClose = props.onClose,\n      getRandomNumberDispatch = props.getRandomNumberDispatch;\n\n  var _useState = useState(props.officeDays || []),\n      _useState2 = _slicedToArray(_useState, 2),\n      days = _useState2[0],\n      setDays = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errMsg = _useState4[0],\n      setErrMsg = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showErr = _useState6[0],\n      setShowErr = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  useEffect(function () {}, []);\n\n  var captureWorkingWeek = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setDays([\"LUNES\", \"MARTES\", \"MIÉRCOLES\", \"JUEVES\", \"VIERNES\"]);\n    });\n\n    return function captureWorkingWeek() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var saveDays = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n\n        if (!days && !days.length) {\n          setErrMsg(\"Debe seleccionar al menos 1 día.\");\n          setShowErr(true);\n          setLoading(false);\n          setTimeout(function () {\n            setShowErr(false);\n          }, 1200);\n        } else {\n          var res = yield updateDataEntrepreneur.entrepreneurDays({\n            id: entrepreneur.id,\n            workDays: days\n          }, _jwt);\n\n          if (res) {\n            setLoading(false);\n            onClose();\n            getRandomNumberDispatch();\n          } else {\n            setErrMsg(\"Ocurrió un error durante la actualización de datos\");\n            setShowErr(true);\n            setTimeout(function () {\n              setShowErr(false);\n            }, 1200);\n            setLoading(false);\n          }\n        }\n      } catch (e) {\n        setErrMsg(\"Ocurrió un error durante la actualización de datos.\");\n        setShowErr(true);\n        setLoading(false);\n        setTimeout(function () {\n          setShowErr(false);\n        }, 1200);\n      }\n    });\n\n    return function saveDays() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var optionsDays = daysCollection.length && daysCollection.map(function (day) {\n    return _jsx(View, {\n      style: styles.checBoxView,\n      children: _jsx(Checkbox, {\n        value: day == null ? void 0 : day.name,\n        my: 2,\n        bgColor: GlobalVars.orange,\n        borderColor: GlobalVars.orange,\n        colorScheme: \"orange\",\n        borderWidth: \"2\",\n        _checked: {\n          color: GlobalVars.blueOpaque,\n          borderColor: GlobalVars.orange\n        },\n        _pressed: {\n          tintColor: GlobalVars.orange\n        },\n        _text: {\n          color: GlobalVars.blueOpaque\n        },\n        _hover: {\n          borderColor: GlobalVars.orange\n        },\n        children: day == null ? void 0 : day.name\n      })\n    }, \"days_\" + (day == null ? void 0 : day.id));\n  }) || _jsx(_Fragment, {});\n\n  return _jsxs(View, {\n    style: styles.view,\n    children: [!loading && _jsx(LabelTextComponent, {\n      text: \"Edita tus d\\xEDas de atenci\\xF3n\",\n      color: GlobalVars.blueOpaque,\n      size: 18,\n      customStyleBtn: {\n        textAlign: \"left\"\n      }\n    }), loading && _jsx(ActivityIndicator, {\n      color: GlobalVars.orange,\n      size: \"large\"\n    }), showErr && errMsg && _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return setShowErr(false);\n      },\n      children: _jsx(LabelTextComponent, {\n        text: errMsg,\n        color: GlobalVars.googleColor,\n        size: 13\n      })\n    }), !loading && _jsx(View, {\n      style: styles.containerScroll,\n      children: _jsx(ScrollView, {\n        style: styles.scrolling,\n        contentContainerStyle: styles.wrapScrollView,\n        colorScrollBar: GlobalVars.orange,\n        children: _jsxs(Checkbox.Group, {\n          style: styles.checkGroupBoxView,\n          defaultValue: days,\n          value: days,\n          onChange: function onChange(newValues) {\n            setDays(newValues);\n          },\n          children: [!optionsDays && _jsx(ActivityIndicator, {\n            color: GlobalVars.orange,\n            size: \"large\",\n            style: {\n              alignSelf: \"center\"\n            }\n          }), optionsDays]\n        })\n      })\n    }), !loading && _jsx(ButtonComponent, {\n      text: \"Semana laboral\",\n      color: GlobalVars.orange,\n      textColor: GlobalVars.white,\n      Action: function Action() {\n        return captureWorkingWeek();\n      }\n    }), !loading && days && days.length && _jsx(ButtonComponent, {\n      text: \"Guardar\",\n      color: GlobalVars.orange,\n      textColor: GlobalVars.white,\n      Action: function Action() {\n        return saveDays();\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.closeIcon,\n      onPress: onClose,\n      children: _jsx(Entypo, {\n        name: \"circle-with-cross\",\n        size: 24,\n        color: GlobalVars.blueOpaque\n      })\n    })]\n  });\n};\n\nexport default PickerDaysShop;","map":{"version":3,"names":["React","useState","useEffect","Checkbox","Entypo","GlobalVars","daysCollection","updateDataEntrepreneur","LabelTextComponent","ButtonComponent","ScrollView","Styles","styles","PickerDaysShop","isEntrepreneurUpdate","_jwt","entrepreneur","props","onClose","getRandomNumberDispatch","officeDays","days","setDays","errMsg","setErrMsg","showErr","setShowErr","loading","setLoading","captureWorkingWeek","saveDays","length","setTimeout","res","entrepreneurDays","id","workDays","e","optionsDays","map","day","checBoxView","name","orange","color","blueOpaque","borderColor","tintColor","view","textAlign","googleColor","containerScroll","scrolling","wrapScrollView","checkGroupBoxView","newValues","alignSelf","white","closeIcon"],"sources":["/Users/andresfelipepinillameneses/Documents/John 2/front/src/components/organisms/ChooseDaysShop/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { View, TouchableOpacity, ActivityIndicator } from \"react-native\";\n\nimport { Checkbox } from \"native-base\";\n\nimport { Entypo } from \"@expo/vector-icons\";\n\nimport GlobalVars from \"../../../global/globalVars\";\n\nimport { daysCollection } from \"../../../mock/daysCollection\";\n\nimport updateDataEntrepreneur from \"../../../helpers/updateDataEntrepreneur\";\n\nimport LabelTextComponent from \"../../atoms/LabelText\";\nimport ButtonComponent from \"../../atoms/ButtonComponent\";\nimport ScrollView from \"../../templates/ScrollView\";\n\nimport Styles from \"./style\";\n\nconst styles = Styles;\n\nconst PickerDaysShop = ({\n  isEntrepreneurUpdate = false,\n  _jwt = null,\n  entrepreneur = null,\n  ...props\n}) => {\n  const { onClose, getRandomNumberDispatch } = props;\n\n  const [days, setDays] = useState(props.officeDays || []);\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [showErr, setShowErr] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {}, []);\n\n  const captureWorkingWeek = async () => {\n    setDays([\"LUNES\", \"MARTES\", \"MIÉRCOLES\", \"JUEVES\", \"VIERNES\"]);\n  };\n\n  const saveDays = async () => {\n    try {\n      setLoading(true);\n      if (!days && !days.length) {\n        setErrMsg(\"Debe seleccionar al menos 1 día.\");\n        setShowErr(true);\n        setLoading(false);\n        setTimeout(() => {\n          setShowErr(false);\n        }, 1200);\n      } else {\n        const res = await updateDataEntrepreneur.entrepreneurDays(\n          {\n            id: entrepreneur.id,\n            workDays: days,\n          },\n          _jwt\n        );\n\n        if (res) {\n          setLoading(false);\n          onClose();\n          getRandomNumberDispatch();\n        } else {\n          setErrMsg(\"Ocurrió un error durante la actualización de datos\");\n          setShowErr(true);\n          setTimeout(() => {\n            setShowErr(false);\n          }, 1200);\n          setLoading(false);\n        }\n      }\n    } catch (e) {\n      setErrMsg(\"Ocurrió un error durante la actualización de datos.\");\n      setShowErr(true);\n      setLoading(false);\n      setTimeout(() => {\n        setShowErr(false);\n      }, 1200);\n    }\n  };\n\n  const optionsDays = (daysCollection.length &&\n    daysCollection.map((day) => {\n      return (\n        <View key={\"days_\" + day?.id} style={styles.checBoxView}>\n          <Checkbox\n            value={day?.name}\n            my={2}\n            bgColor={GlobalVars.orange}\n            borderColor={GlobalVars.orange}\n            colorScheme=\"orange\"\n            borderWidth=\"2\"\n            _checked={{\n              color: GlobalVars.blueOpaque,\n              borderColor: GlobalVars.orange,\n            }}\n            _pressed={{ tintColor: GlobalVars.orange }}\n            _text={{ color: GlobalVars.blueOpaque }}\n            _hover={{ borderColor: GlobalVars.orange }}\n          >\n            {day?.name}\n          </Checkbox>\n        </View>\n      );\n    })) || <></>;\n\n  return (\n    <View style={styles.view}>\n      {!loading && (\n        <LabelTextComponent\n          text=\"Edita tus días de atención\"\n          color={GlobalVars.blueOpaque}\n          size={18}\n          customStyleBtn={{ textAlign: \"left\" }}\n        />\n      )}\n      {loading && <ActivityIndicator color={GlobalVars.orange} size=\"large\" />}\n\n      {showErr && errMsg && (\n        <TouchableOpacity onPress={() => setShowErr(false)}>\n          <LabelTextComponent\n            text={errMsg}\n            color={GlobalVars.googleColor}\n            size={13}\n          />\n        </TouchableOpacity>\n      )}\n\n      {!loading && (\n        <View style={styles.containerScroll}>\n          <ScrollView\n            style={styles.scrolling}\n            contentContainerStyle={styles.wrapScrollView}\n            colorScrollBar={GlobalVars.orange}\n          >\n            <Checkbox.Group\n              style={styles.checkGroupBoxView}\n              defaultValue={days}\n              value={days}\n              onChange={(newValues) => {\n                setDays(newValues);\n              }}\n            >\n              {!optionsDays && (\n                <ActivityIndicator\n                  color={GlobalVars.orange}\n                  size=\"large\"\n                  style={{ alignSelf: \"center\" }}\n                />\n              )}\n              {optionsDays}\n            </Checkbox.Group>\n          </ScrollView>\n        </View>\n      )}\n\n      {!loading && (\n        <ButtonComponent\n          text=\"Semana laboral\"\n          color={GlobalVars.orange}\n          textColor={GlobalVars.white}\n          Action={() => captureWorkingWeek()}\n        />\n      )}\n\n      {!loading && days && days.length && (\n        <ButtonComponent\n          text=\"Guardar\"\n          color={GlobalVars.orange}\n          textColor={GlobalVars.white}\n          Action={() => saveDays()}\n        />\n      )}\n\n      <TouchableOpacity style={styles.closeIcon} onPress={onClose}>\n        <Entypo\n          name=\"circle-with-cross\"\n          size={24}\n          color={GlobalVars.blueOpaque}\n        />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default PickerDaysShop;\n"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;AAIA,SAASC,QAAT,QAAyB,aAAzB;AAEA,SAASC,MAAT,QAAuB,oBAAvB;AAEA,OAAOC,UAAP;AAEA,SAASC,cAAT;AAEA,OAAOC,sBAAP;AAEA,OAAOC,kBAAP;AACA,OAAOC,eAAP;AACA,OAAOC,UAAP;AAEA,OAAOC,MAAP;;;;AAEA,IAAMC,MAAM,GAAGD,MAAf;;AAEA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,OAKjB;EAAA,iCAJJC,oBAII;EAAA,IAJJA,oBAII,sCAJmB,KAInB;EAAA,qBAHJC,IAGI;EAAA,IAHJA,IAGI,0BAHG,IAGH;EAAA,6BAFJC,YAEI;EAAA,IAFJA,YAEI,kCAFW,IAEX;EAAA,IADDC,KACC;;EACJ,IAAQC,OAAR,GAA6CD,KAA7C,CAAQC,OAAR;EAAA,IAAiBC,uBAAjB,GAA6CF,KAA7C,CAAiBE,uBAAjB;;EAEA,gBAAwBlB,QAAQ,CAACgB,KAAK,CAACG,UAAN,IAAoB,EAArB,CAAhC;EAAA;EAAA,IAAOC,IAAP;EAAA,IAAaC,OAAb;;EACA,iBAA4BrB,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOsB,MAAP;EAAA,IAAeC,SAAf;;EACA,iBAA8BvB,QAAQ,CAAC,KAAD,CAAtC;EAAA;EAAA,IAAOwB,OAAP;EAAA,IAAgBC,UAAhB;;EACA,iBAA8BzB,QAAQ,CAAC,KAAD,CAAtC;EAAA;EAAA,IAAO0B,OAAP;EAAA,IAAgBC,UAAhB;;EAEA1B,SAAS,CAAC,YAAM,CAAE,CAAT,EAAW,EAAX,CAAT;;EAEA,IAAM2B,kBAAkB;IAAA,8BAAG,aAAY;MACrCP,OAAO,CAAC,CAAC,OAAD,EAAU,QAAV,EAAoB,WAApB,EAAiC,QAAjC,EAA2C,SAA3C,CAAD,CAAP;IACD,CAFuB;;IAAA,gBAAlBO,kBAAkB;MAAA;IAAA;EAAA,GAAxB;;EAIA,IAAMC,QAAQ;IAAA,8BAAG,aAAY;MAC3B,IAAI;QACFF,UAAU,CAAC,IAAD,CAAV;;QACA,IAAI,CAACP,IAAD,IAAS,CAACA,IAAI,CAACU,MAAnB,EAA2B;UACzBP,SAAS,CAAC,kCAAD,CAAT;UACAE,UAAU,CAAC,IAAD,CAAV;UACAE,UAAU,CAAC,KAAD,CAAV;UACAI,UAAU,CAAC,YAAM;YACfN,UAAU,CAAC,KAAD,CAAV;UACD,CAFS,EAEP,IAFO,CAAV;QAGD,CAPD,MAOO;UACL,IAAMO,GAAG,SAAS1B,sBAAsB,CAAC2B,gBAAvB,CAChB;YACEC,EAAE,EAAEnB,YAAY,CAACmB,EADnB;YAEEC,QAAQ,EAAEf;UAFZ,CADgB,EAKhBN,IALgB,CAAlB;;UAQA,IAAIkB,GAAJ,EAAS;YACPL,UAAU,CAAC,KAAD,CAAV;YACAV,OAAO;YACPC,uBAAuB;UACxB,CAJD,MAIO;YACLK,SAAS,CAAC,oDAAD,CAAT;YACAE,UAAU,CAAC,IAAD,CAAV;YACAM,UAAU,CAAC,YAAM;cACfN,UAAU,CAAC,KAAD,CAAV;YACD,CAFS,EAEP,IAFO,CAAV;YAGAE,UAAU,CAAC,KAAD,CAAV;UACD;QACF;MACF,CA/BD,CA+BE,OAAOS,CAAP,EAAU;QACVb,SAAS,CAAC,qDAAD,CAAT;QACAE,UAAU,CAAC,IAAD,CAAV;QACAE,UAAU,CAAC,KAAD,CAAV;QACAI,UAAU,CAAC,YAAM;UACfN,UAAU,CAAC,KAAD,CAAV;QACD,CAFS,EAEP,IAFO,CAAV;MAGD;IACF,CAxCa;;IAAA,gBAARI,QAAQ;MAAA;IAAA;EAAA,GAAd;;EA0CA,IAAMQ,WAAW,GAAIhC,cAAc,CAACyB,MAAf,IACnBzB,cAAc,CAACiC,GAAf,CAAmB,UAACC,GAAD,EAAS;IAC1B,OACE,KAAC,IAAD;MAA8B,KAAK,EAAE5B,MAAM,CAAC6B,WAA5C;MAAA,UACE,KAAC,QAAD;QACE,KAAK,EAAED,GAAF,oBAAEA,GAAG,CAAEE,IADd;QAEE,EAAE,EAAE,CAFN;QAGE,OAAO,EAAErC,UAAU,CAACsC,MAHtB;QAIE,WAAW,EAAEtC,UAAU,CAACsC,MAJ1B;QAKE,WAAW,EAAC,QALd;QAME,WAAW,EAAC,GANd;QAOE,QAAQ,EAAE;UACRC,KAAK,EAAEvC,UAAU,CAACwC,UADV;UAERC,WAAW,EAAEzC,UAAU,CAACsC;QAFhB,CAPZ;QAWE,QAAQ,EAAE;UAAEI,SAAS,EAAE1C,UAAU,CAACsC;QAAxB,CAXZ;QAYE,KAAK,EAAE;UAAEC,KAAK,EAAEvC,UAAU,CAACwC;QAApB,CAZT;QAaE,MAAM,EAAE;UAAEC,WAAW,EAAEzC,UAAU,CAACsC;QAA1B,CAbV;QAAA,UAeGH,GAfH,oBAeGA,GAAG,CAAEE;MAfR;IADF,GAAW,WAAUF,GAAV,oBAAUA,GAAG,CAAEL,EAAf,CAAX,CADF;EAqBD,CAtBD,CADkB,IAuBX,mBAvBT;;EAyBA,OACE,MAAC,IAAD;IAAM,KAAK,EAAEvB,MAAM,CAACoC,IAApB;IAAA,WACG,CAACrB,OAAD,IACC,KAAC,kBAAD;MACE,IAAI,EAAC,kCADP;MAEE,KAAK,EAAEtB,UAAU,CAACwC,UAFpB;MAGE,IAAI,EAAE,EAHR;MAIE,cAAc,EAAE;QAAEI,SAAS,EAAE;MAAb;IAJlB,EAFJ,EASGtB,OAAO,IAAI,KAAC,iBAAD;MAAmB,KAAK,EAAEtB,UAAU,CAACsC,MAArC;MAA6C,IAAI,EAAC;IAAlD,EATd,EAWGlB,OAAO,IAAIF,MAAX,IACC,KAAC,gBAAD;MAAkB,OAAO,EAAE;QAAA,OAAMG,UAAU,CAAC,KAAD,CAAhB;MAAA,CAA3B;MAAA,UACE,KAAC,kBAAD;QACE,IAAI,EAAEH,MADR;QAEE,KAAK,EAAElB,UAAU,CAAC6C,WAFpB;QAGE,IAAI,EAAE;MAHR;IADF,EAZJ,EAqBG,CAACvB,OAAD,IACC,KAAC,IAAD;MAAM,KAAK,EAAEf,MAAM,CAACuC,eAApB;MAAA,UACE,KAAC,UAAD;QACE,KAAK,EAAEvC,MAAM,CAACwC,SADhB;QAEE,qBAAqB,EAAExC,MAAM,CAACyC,cAFhC;QAGE,cAAc,EAAEhD,UAAU,CAACsC,MAH7B;QAAA,UAKE,MAAC,QAAD,CAAU,KAAV;UACE,KAAK,EAAE/B,MAAM,CAAC0C,iBADhB;UAEE,YAAY,EAAEjC,IAFhB;UAGE,KAAK,EAAEA,IAHT;UAIE,QAAQ,EAAE,kBAACkC,SAAD,EAAe;YACvBjC,OAAO,CAACiC,SAAD,CAAP;UACD,CANH;UAAA,WAQG,CAACjB,WAAD,IACC,KAAC,iBAAD;YACE,KAAK,EAAEjC,UAAU,CAACsC,MADpB;YAEE,IAAI,EAAC,OAFP;YAGE,KAAK,EAAE;cAAEa,SAAS,EAAE;YAAb;UAHT,EATJ,EAeGlB,WAfH;QAAA;MALF;IADF,EAtBJ,EAiDG,CAACX,OAAD,IACC,KAAC,eAAD;MACE,IAAI,EAAC,gBADP;MAEE,KAAK,EAAEtB,UAAU,CAACsC,MAFpB;MAGE,SAAS,EAAEtC,UAAU,CAACoD,KAHxB;MAIE,MAAM,EAAE;QAAA,OAAM5B,kBAAkB,EAAxB;MAAA;IAJV,EAlDJ,EA0DG,CAACF,OAAD,IAAYN,IAAZ,IAAoBA,IAAI,CAACU,MAAzB,IACC,KAAC,eAAD;MACE,IAAI,EAAC,SADP;MAEE,KAAK,EAAE1B,UAAU,CAACsC,MAFpB;MAGE,SAAS,EAAEtC,UAAU,CAACoD,KAHxB;MAIE,MAAM,EAAE;QAAA,OAAM3B,QAAQ,EAAd;MAAA;IAJV,EA3DJ,EAmEE,KAAC,gBAAD;MAAkB,KAAK,EAAElB,MAAM,CAAC8C,SAAhC;MAA2C,OAAO,EAAExC,OAApD;MAAA,UACE,KAAC,MAAD;QACE,IAAI,EAAC,mBADP;QAEE,IAAI,EAAE,EAFR;QAGE,KAAK,EAAEb,UAAU,CAACwC;MAHpB;IADF,EAnEF;EAAA,EADF;AA6ED,CAnKD;;AAqKA,eAAehC,cAAf"},"metadata":{},"sourceType":"module"}